{"version":3,"sources":["webpack:///./src/docs/md/apis/control/main-window.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-docs-md-apis-control-main-window-md-1c0b326535a04dc998d9.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/nrisbakk/Projects/newTC/totalcross-github-io/totalcross.github.io/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"main-window\"\n    }}>{`Main Window`}</h1>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`Every TotalCross program must have one and only one class that extends totalcross.ui. MainWindow. It is the interface between the VM and the TotalCross program: it receives all events and dispatches them.`}</p>\n    <h2 {...{\n      \"id\": \"usage\"\n    }}>{`Usage`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`import totalcross.ui.*;\npublic class MainWindowSample extends MainWindow {\n\n    public MainWindowSample() {\n        setUIStyle(Settings.MATERIAL_UI);\n        setDefaultFont(Font.getFont(Fonts.FONT_DEFAULT_SIZE));\n    }\n\n    static {\n        Settings.applicationId = \"MWSP\";\n        Settings.appVersion = \"1.0.1\";\n        Settings.iosCFBundleIdentifier = \"com.totalcross.sample.mainwindowsample\";\n    }\n\n    public void initUI() {\n        // add controls here\n    }\n        ​\n    public void onExit() {\n        // close stuff here\n    }\n}\n`}</code></pre>\n    <p>{`The VM first calls the default `}<inlineCode parentName=\"p\">{`MainWindow`}</inlineCode>{` constructor `}{`(`}{`in this case, `}<inlineCode parentName=\"p\">{`MainWindowSample()`}</inlineCode>{`)`}{`, and then queues a timer event, which calls the `}<inlineCode parentName=\"p\">{`initUI()`}</inlineCode>{` method inherited from the `}<inlineCode parentName=\"p\">{`Container`}</inlineCode>{` class. `}<strong parentName=\"p\">{`You must initialize the entire user interface in the `}<inlineCode parentName=\"strong\">{`initUI(`}</inlineCode>{`)`}{` method.`}</strong></p>\n    <p>{`Initializing the UI in the constructor may hang the application and some operations can only be performed after the `}<inlineCode parentName=\"p\">{`initUI(MainWindow)`}</inlineCode>{` method is reached.`}</p>\n    <p>{`The `}<strong parentName=\"p\"><inlineCode parentName=\"strong\">{`onExit()`}</inlineCode></strong>{` method is called when the VM exits under normal circumstances, that is, if the user closes the application or the programmer terminates the application using `}<inlineCode parentName=\"p\">{`exit()`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`exec()`}</inlineCode>{` or even when the application is interrupted by an exception treated.`}</p>\n    {\n      /* {% hint style=\"warning\" %} */\n    }\n    <p>{`In abnormal circumstances where a fatal error occurs by resetting the device, the `}<inlineCode parentName=\"p\">{`onExit()`}</inlineCode>{` method is not called. When this is called, all segments are already dead.`}</p>\n    {\n      /* {% endhint %} */\n    }\n    <p>{`At `}<strong parentName=\"p\">{`line 5`}</strong>{` we use the `}<strong parentName=\"p\"><inlineCode parentName=\"strong\">{`setUIStyle()`}</inlineCode></strong>{` method to assign the style of our application as `}<inlineCode parentName=\"p\">{`Settings.MATERIAL_UI`}</inlineCode>{` `}<strong parentName=\"p\">{`and so all components and effects will be in the Google`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://blog.totalcross.com/en/material-o-layout-da-google/\"\n      }}><strong parentName=\"a\">{`Material Design standard`}</strong></a><strong parentName=\"p\">{`.`}</strong></p>\n    <p>{`To change the font used by all the created controls, you must call the `}<inlineCode parentName=\"p\">{`setDefaultFont()`}</inlineCode>{` method on `}<strong parentName=\"p\">{`line 6`}</strong>{`. In this case, we are setting the default font size that we defined in the `}<strong parentName=\"p\">{`Fonts class`}</strong>{`. To better understand this process, just `}<a parentName=\"p\" {...{\n        \"href\": \"https://totalcross.gitbook.io/playbook/guideline/colors-fonts-and-images#fonts\"\n      }}><strong parentName=\"a\">{`click here`}</strong>{`.`}</a></p>\n    <p>{`Still, inside the constructor, you can define MainWindow title and/or style using `}<inlineCode parentName=\"p\">{`setTitle()`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`setBorderStyle()`}</inlineCode>{` methods however `}<strong parentName=\"p\">{`there is performance loss`}</strong>{`. To reverse this loss, you can use the `}<inlineCode parentName=\"p\">{`super(title, style)`}</inlineCode>{` method, but this method can not be used with `}<inlineCode parentName=\"p\">{`setDefaultFont()`}</inlineCode>{`. Styles for border can be:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Window.NO_BORDER;`}</li>\n      <li parentName=\"ul\">{`Window.RECT_BORDER;`}</li>\n      <li parentName=\"ul\">{`Window.ROUND_BORDER;`}</li>\n      <li parentName=\"ul\">{`Window.TAB_BORDER;`}</li>\n      <li parentName=\"ul\">{`Window.TAB_ONLY_BORDER.`}</li>\n    </ul>\n    {\n      /* {% hint style=\"info\" %} */\n    }\n    <p>{`But these decisions must be made on the `}<strong parentName=\"p\">{`basis of the design of your application`}</strong>{`. TotalCross recommends that you all follow `}<a parentName=\"p\" {...{\n        \"href\": \"https://blog.totalcross.com/en/material-o-layout-da-google/\"\n      }}><strong parentName=\"a\">{`Material Design.`}</strong></a>{`*`}{`*`}{`*`}{`*`}</p>\n    {\n      /* {% endhint %} */\n    }\n    <h2 {...{\n      \"id\": \"the-application-lifecycle\"\n    }}>{`The Application Lifecycle`}</h2>\n    <p>{`The application on TotalCross has a predefined life cycle, handled by defined methods in MainWindow:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`methods`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Definition`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`initUI`}{`(`}{`)`}{`:`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`called when the application starts.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`onMinimize`}{`(`}{`)`}{`:`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`called when the user press the home key, or when a call is received, or when the screen turns off. On Android and Windows 32, the application execution is not paused. On Windows Phone 8 and iOS, it is paused.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`onResume`}{`(`}{`)`}{`:`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`called after the call ends, the screen is turned on again, or the program was exited softly on Android. It is also called again if the user clicks on the application icon on Android and iOS. On WP8, it is necessary to press back in the main menu and click on the opened application. Clicking on its icon in the list of applications will kill the current instance and relaunches it again.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`onExit`}{`(`}{`)`}{`:`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`called when the system decides that is time to finish the application. If the home key was pressed, this method is called when another TotalCross application is launched on Android if the application is not installed as a single package. If the user press the home key and then forces the application to stop `}{`(`}{`by going to the Settings/Applications`}{`)`}{` on Android and iOS, then all Litebase tables may be corrupted `}{`(`}{`actually, no data is lost, but a TableNotClosedException will be issued`}{`)`}{`. So, it’s a good thing to call`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`LitebaseConnection.closeAll`}{`(`}{`)`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`in your Litebase instances in the onMinimize`}{`(`}{`)`}{` method and recover them in the onResume`}{`(`}{`)`}{` method. Just remember that all prepared statements, row iterators and result sets will be invalid and can’t be reused. Notice that the application might also be killed by the system if it’s on background.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`On WP8, there is no way to kill an application. To kill it, you must restore it pressing back in the main menu and them openning the application again. Then, press back until finishing the application.`}</p>\n    <p>{`It is also a good practice to save all necessary data and application state so that the when the user goes back to the application it won’t need to do a task again, such as entering data again in a form which was lost when the application was closed by the system. Of course there are situations where the user must retype data, such as login and password and when using bank applications.`}</p>\n    <p>{`Remember that applications for Android, iOS, and Windows Phone 8 shouldn’t have an exit button or an exit option in the menu. The application should be designed to be opened all the time and only the system should close it when needed. Again, there are exceptions, for example when the user doesn’t agree with an eula and the application can’t continue running.`}</p>\n    <p>{`Finally, it is a good idea to map the device back key on Android and WP8 to go back to the last window/menu used. Just remember that on WP8 back is back, you just can use it to go back to the last screen used. On the first screen, back should exit the application. The only exception are games, where back during a game play goes to the pause window.`}</p>\n    <h2 {...{\n      \"id\": \"references\"\n    }}>{`References`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`To know more details about totalcross.ui.MainWindow, read its `}<a parentName=\"li\" {...{\n          \"href\": \"https://rs.totalcross.com/doc/\"\n        }}>{`JavaDocs`}</a>{`.`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}